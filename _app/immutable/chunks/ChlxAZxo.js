import{E as T,j as k,aC as M,k as l,V as I,C,S as m,y as g,x as S,z as O,aD as L,X as U,aE as D,aF as p,aG as w,aH as H,aI as F,aJ as G,u as J,a5 as K,D as f,aK as V}from"./DRxMI7yE.js";function P(e,r){let a=null,n=l;var t;if(l){a=O;for(var s=I(document.head);s!==null&&(s.nodeType!==C||s.data!==e);)s=m(s);if(s===null)g(!1);else{var i=m(s);s.remove(),S(i)}}l||(t=document.head.appendChild(T()));try{k(()=>r(t),M)}finally{n&&(g(!0),S(a))}}function x(e,r,a){var n=e==null?"":""+e;return n===""?null:n}function E(e,r=!1){var a=r?" !important;":";",n="";for(var t in e){var s=e[t];s!=null&&s!==""&&(n+=" "+t+": "+s+a)}return n}function X(e,r){if(r){var a="",n,t;return Array.isArray(r)?(n=r[0],t=r[1]):n=r,n&&(a+=E(n)),t&&(a+=E(t,!0)),a=a.trim(),a===""?null:a}return String(e)}function Q(e,r,a,n,t,s){var i=e.__className;if(l||i!==a||i===void 0){var o=x(a);(!l||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=a}return s}const R=Symbol("is custom element"),W=Symbol("is html");function Z(e){if(l){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var n=e.value;b(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var t=e.checked;b(e,"checked",null),e.checked=t}}};e.__on_r=a,U(a),D()}}function b(e,r,a,n){var t=Y(e);l&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[p]=a),a==null?e.removeAttribute(r):typeof a!="string"&&j(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Y(e){return e.__attributes??={[R]:e.nodeName.includes("-"),[W]:e.namespaceURI===L}}var A=new Map;function j(e){var r=e.getAttribute("is")||e.nodeName,a=A.get(r);if(a)return a;A.set(r,a=[]);for(var n,t=e,s=Element.prototype;s!==t;){n=H(t);for(var i in n)n[i].set&&a.push(i);t=w(t)}return a}function $(e,r,a=r){var n=new WeakSet;F(e,"input",async t=>{var s=t?e.defaultValue:e.value;if(s=u(e)?d(s):s,a(s),f!==null&&n.add(f),await G(),s!==(s=r())){var i=e.selectionStart,o=e.selectionEnd,h=e.value.length;if(e.value=s??"",o!==null){var c=e.value.length;i===o&&o===h&&c>h?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=i,e.selectionEnd=Math.min(o,c))}}}),(l&&e.defaultValue!==e.value||J(r)==null&&e.value)&&(a(u(e)?d(e.value):e.value),f!==null&&n.add(f)),K(()=>{var t=r();if(e===document.activeElement){var s=V??f;if(n.has(s))return}u(e)&&t===d(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function u(e){var r=e.type;return r==="number"||r==="range"}function d(e){return e===""?null:+e}const v={mirrorUrl:null,theme:"blue"},y="github-release-downloader-settings";function _(){if(typeof window>"u")return v;try{const e=localStorage.getItem(y);if(e){const r=JSON.parse(e);return{...v,...r}}}catch(e){console.error("加载设置失败:",e)}return v}function q(e){if(!(typeof window>"u"))try{localStorage.setItem(y,JSON.stringify(e))}catch(r){console.error("保存设置失败:",r)}}function ee(){const e=_();if(!e.mirrorUrl)return null;let r=e.mirrorUrl;return r.endsWith("/")||(r+="/"),r}function re(e){const r=_();r.theme=e,q(r),N(e)}function z(){return _().theme||"blue"}function N(e){typeof document<"u"&&document.documentElement.setAttribute("data-theme",e)}function ae(){const e=z();N(e)}export{Q as a,$ as b,q as c,b as d,ee as g,P as h,ae as i,_ as l,Z as r,re as s,X as t};
