import{F as N,k,aC as M,l as c,W as I,C,T as h,z as m,y as S,A as O,aD as L,Y as U,aE as p,aF as w,aG as D,aH as F,aI as H,aJ as G,u as J,a6 as K,E as l,aK as W}from"./DrjFet3j.js";function j(e,r){let t=null,n=c;var a;if(c){t=O;for(var s=I(document.head);s!==null&&(s.nodeType!==C||s.data!==e);)s=h(s);if(s===null)m(!1);else{var i=h(s);s.remove(),S(i)}}c||(a=document.head.appendChild(N()));try{k(()=>r(a),M)}finally{n&&(m(!0),S(t))}}function Y(e,r,t){var n=e==null?"":""+e;return n===""?null:n}function E(e,r=!1){var t=r?" !important;":";",n="";for(var a in e){var s=e[a];s!=null&&s!==""&&(n+=" "+a+": "+s+t)}return n}function Q(e,r){if(r){var t="",n,a;return Array.isArray(r)?(n=r[0],a=r[1]):n=r,n&&(t+=E(n)),a&&(t+=E(a,!0)),t=t.trim(),t===""?null:t}return String(e)}function X(e,r,t,n,a,s){var i=e.__className;if(c||i!==t||i===void 0){var o=Y(t);(!c||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=t}return s}const R=Symbol("is custom element"),V=Symbol("is html");function Z(e){if(c){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var n=e.value;T(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var a=e.checked;T(e,"checked",null),e.checked=a}}};e.__on_r=t,U(t),p()}}function T(e,r,t,n){var a=q(e);c&&(a[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||a[r]!==(a[r]=t)&&(r==="loading"&&(e[w]=t),t==null?e.removeAttribute(r):typeof t!="string"&&x(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function q(e){return e.__attributes??={[R]:e.nodeName.includes("-"),[V]:e.namespaceURI===L}}var A=new Map;function x(e){var r=e.getAttribute("is")||e.nodeName,t=A.get(r);if(t)return t;A.set(r,t=[]);for(var n,a=e,s=Element.prototype;s!==a;){n=F(a);for(var i in n)n[i].set&&t.push(i);a=D(a)}return t}function $(e,r,t=r){var n=new WeakSet;H(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=d(e)?v(s):s,t(s),l!==null&&n.add(l),await G(),s!==(s=r())){var i=e.selectionStart,o=e.selectionEnd,g=e.value.length;if(e.value=s??"",o!==null){var f=e.value.length;i===o&&o===g&&f>g?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=i,e.selectionEnd=Math.min(o,f))}}}),(c&&e.defaultValue!==e.value||J(r)==null&&e.value)&&(t(d(e)?v(e.value):e.value),l!==null&&n.add(l)),K(()=>{var a=r();if(e===document.activeElement){var s=W??l;if(n.has(s))return}d(e)&&a===v(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function d(e){var r=e.type;return r==="number"||r==="range"}function v(e){return e===""?null:+e}const _={mirrorUrl:null,theme:"blue",accessToken:null},b="github-release-downloader-settings";function u(){if(typeof window>"u")return _;try{const e=localStorage.getItem(b);if(e){const r=JSON.parse(e);return{..._,...r}}}catch(e){console.error("加载设置失败:",e)}return _}function z(e){if(!(typeof window>"u"))try{localStorage.setItem(b,JSON.stringify(e))}catch(r){console.error("保存设置失败:",r)}}function ee(){const e=u();if(!e.mirrorUrl)return null;let r=e.mirrorUrl;return r.endsWith("/")||(r+="/"),r}function re(){return u().accessToken||null}function te(e){const r=u();r.theme=e,z(r),y(e)}function B(){return u().theme||"blue"}function y(e){typeof document<"u"&&document.documentElement.setAttribute("data-theme",e)}function ae(){const e=B();y(e)}export{X as a,$ as b,z as c,T as d,ee as e,re as g,j as h,ae as i,u as l,Z as r,te as s,Q as t};
