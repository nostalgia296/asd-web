import{A as re,w as m,B as Y,g as X,W as ae,C as fe,H as ne,D as $,F as k,G as z,x as H,K as Z,X as ie,Y as G,i as le,q as F,Z as A,v as q,z as se,_ as J,m as ue,a0 as V,a1 as oe,a2 as te,a3 as ve,a4 as de,j as x,l as P,a5 as L,L as Q,a6 as ce,k as pe,J as M,a7 as j,M as he,a8 as _e,a9 as ge,aa as Ee,ab as me,ac as Ae,ad as Te}from"./B-2q5UAc.js";import{b as K,c as Ne}from"./SrcVysXl.js";function De(e,f){return f}function Ce(e,f,a){for(var l=[],v=f.length,s,u=f.length,t=0;t<v;t++){let c=f[t];P(c,()=>{if(s){if(s.pending.delete(c),s.done.add(c),s.pending.size===0){var p=e.outrogroups;B(V(s.done)),p.delete(s),p.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var n=l.length===0&&a!==null;if(n){var d=a,i=d.parentNode;ce(i),i.append(d),e.items.clear()}B(f,!n)}else s={pending:new Set(f),done:new Set},(e.outrogroups??=new Set).add(s)}function B(e,f=!0){for(var a=0;a<e.length;a++)pe(e[a],f)}var U;function He(e,f,a,l,v,s=null){var u=e,t=new Map,n=(f&j)!==0;if(n){var d=e;u=m?k(M(d)):d.appendChild(F())}m&&Y();var i=null,c=ae(()=>{var o=a();return oe(o)?o:o==null?[]:V(o)}),p,_=!0;function N(){r.fallback=i,Ie(r,p,u,f,l),i!==null&&(p.length===0?(i.f&A)===0?x(i):(i.f^=A,O(i,null,u)):P(i,()=>{i=null}))}var S=re(()=>{p=X(c);var o=p.length;let b=!1;if(m){var R=fe(u)===ne;R!==(o===0)&&(u=$(),k(u),z(!1),b=!0)}for(var E=new Set,C=le,w=se(),g=0;g<o;g+=1){m&&H.nodeType===Z&&H.data===ie&&(u=H,b=!0,z(!1));var I=p[g],D=l(I,g),h=_?null:t.get(D);h?(h.v&&G(h.v,I),h.i&&G(h.i,g),w&&C.skipped_effects.delete(h.e)):(h=Se(t,_?u:U??=F(),I,D,g,v,f,a),_||(h.e.f|=A),t.set(D,h)),E.add(D)}if(o===0&&s&&!i&&(_?i=q(()=>s(u)):(i=q(()=>s(U??=F())),i.f|=A)),m&&o>0&&k($()),!_)if(w){for(const[y,ee]of t)E.has(y)||C.skipped_effects.add(ee.e);C.oncommit(N),C.ondiscard(()=>{})}else N();b&&z(!0),X(c)}),r={effect:S,items:t,outrogroups:null,fallback:i};_=!1,m&&(u=H)}function Ie(e,f,a,l,v){var s=(l&_e)!==0,u=f.length,t=e.items,n=e.effect.first,d,i=null,c,p=[],_=[],N,S,r,o;if(s)for(o=0;o<u;o+=1)N=f[o],S=v(N,o),r=t.get(S).e,(r.f&A)===0&&(r.nodes?.a?.measure(),(c??=new Set).add(r));for(o=0;o<u;o+=1){if(N=f[o],S=v(N,o),r=t.get(S).e,e.outrogroups!==null)for(const h of e.outrogroups)h.pending.delete(r),h.done.delete(r);if((r.f&A)!==0)if(r.f^=A,r===n)O(r,null,a);else{var b=i?i.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),T(e,i,r),T(e,r,b),O(r,b,a),i=r,p=[],_=[],n=i.next;continue}if((r.f&L)!==0&&(x(r),s&&(r.nodes?.a?.unfix(),(c??=new Set).delete(r))),r!==n){if(d!==void 0&&d.has(r)){if(p.length<_.length){var R=_[0],E;i=R.prev;var C=p[0],w=p[p.length-1];for(E=0;E<p.length;E+=1)O(p[E],R,a);for(E=0;E<_.length;E+=1)d.delete(_[E]);T(e,C.prev,w.next),T(e,i,C),T(e,w,R),n=R,i=w,o-=1,p=[],_=[]}else d.delete(r),O(r,n,a),T(e,r.prev,r.next),T(e,r,i===null?e.effect.first:i.next),T(e,i,r),i=r;continue}for(p=[],_=[];n!==null&&n!==r;)(d??=new Set).add(n),_.push(n),n=n.next;if(n===null)continue}(r.f&A)===0&&p.push(r),i=r,n=r.next}if(e.outrogroups!==null){for(const h of e.outrogroups)h.pending.size===0&&(B(V(h.done)),e.outrogroups?.delete(h));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||d!==void 0){var g=[];if(d!==void 0)for(r of d)(r.f&L)===0&&g.push(r);for(;n!==null;)(n.f&L)===0&&n!==e.fallback&&g.push(n),n=n.next;var I=g.length;if(I>0){var D=(l&j)!==0&&u===0?a:null;if(s){for(o=0;o<I;o+=1)g[o].nodes?.a?.measure();for(o=0;o<I;o+=1)g[o].nodes?.a?.fix()}Ce(e,g,D)}}s&&he(()=>{if(c!==void 0)for(r of c)r.nodes?.a?.apply()})}function Se(e,f,a,l,v,s,u,t){var n=(u&te)!==0?(u&ve)===0?ue(a,!1,!1):J(a):null,d=(u&de)!==0?J(v):null;return{v:n,i:d,e:q(()=>(s(f,n??a,d??v,t),()=>{e.delete(l)}))}}function O(e,f,a){if(e.nodes)for(var l=e.nodes.start,v=e.nodes.end,s=f&&(f.f&A)===0?f.nodes.start:a;l!==null;){var u=Q(l);if(s.before(l),l===v)return;l=u}}function T(e,f,a){f===null?e.effect.first=a:f.next=a,a===null?e.effect.last=f:a.prev=f}function Me(e,f,a=!1,l=!1,v=!1){var s=e,u="";ge(()=>{var t=Ee;if(u===(u=f()??"")){m&&Y();return}if(t.nodes!==null&&(me(t.nodes.start,t.nodes.end),t.nodes=null),u!==""){if(m){H.data;for(var n=Y(),d=n;n!==null&&(n.nodeType!==Z||n.data!=="");)d=n,n=Q(n);if(n===null)throw Ae(),Te;K(H,d),s=k(n);return}var i=u+"";a?i=`<svg>${i}</svg>`:l&&(i=`<math>${i}</math>`);var c=Ne(i);if((a||l)&&(c=M(c)),K(M(c),c.lastChild),a||l)for(;M(c);)s.before(M(c));else s.before(c)}})}function be(e,f,a){var l=e==null?"":""+e;return l===""?null:l}function W(e,f=!1){var a=f?" !important;":";",l="";for(var v in e){var s=e[v];s!=null&&s!==""&&(l+=" "+v+": "+s+a)}return l}function Oe(e,f){if(f){var a="",l,v;return Array.isArray(f)?(l=f[0],v=f[1]):l=f,l&&(a+=W(l)),v&&(a+=W(v,!0)),a=a.trim(),a===""?null:a}return String(e)}function ke(e,f,a,l,v,s){var u=e.__className;if(m||u!==a||u===void 0){var t=be(a);(!m||t!==e.getAttribute("class"))&&(t==null?e.removeAttribute("class"):e.className=t),e.__className=a}return s}export{He as e,Me as h,De as i,ke as s,Oe as t};
