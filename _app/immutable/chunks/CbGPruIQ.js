import{A as j,h,b as ue,g as J,a0 as ce,B as ve,D as de,F as K,j as L,G as R,e as D,C as ee,a1 as _e,a2 as W,o as O,w as x,a3 as S,x as Y,z as ge,a4 as P,m as he,a5 as G,a6 as pe,a7 as me,a8 as Ee,a9 as Se,p as re,v as ae,aa as F,f as q,ab as Te,q as Ae,k as ne,ac as fe,ad as se,ae as Ne,af as be,ag as Ie,ah as ke,ai as Ce,aj as Me,ak as we,al as Oe,am as De,u as He,an as Le,ao as Re}from"./CvHRp8-l.js";function Ke(e,r){return r}function xe(e,r,a){for(var s=[],i=r.length,f,t=r.length,c=0;c<i;c++){let m=r[c];ae(m,()=>{if(f){if(f.pending.delete(m),f.done.add(m),f.pending.size===0){var d=e.outrogroups;B(G(f.done)),d.delete(f),d.size===0&&(e.outrogroups=null)}}else t-=1},!1)}if(t===0){var l=s.length===0&&a!==null;if(l){var v=a,o=v.parentNode;Te(o),o.append(v),e.items.clear()}B(r,!l)}else f={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(f)}function B(e,r=!0){for(var a=0;a<e.length;a++)Ae(e[a],r)}var X;function We(e,r,a,s,i,f=null){var t=e,c=new Map,l=(r&fe)!==0;if(l){var v=e;t=h?L(ne(v)):v.appendChild(x())}h&&ue();var o=null,m=ce(()=>{var u=a();return pe(u)?u:u==null?[]:G(u)}),d,g=!0;function A(){n.fallback=o,ye(n,d,t,r,s),o!==null&&(d.length===0?(o.f&S)===0?re(o):(o.f^=S,H(o,null,t)):ae(o,()=>{o=null}))}var I=j(()=>{d=J(m);var u=d.length;let k=!1;if(h){var C=ve(t)===de;C!==(u===0)&&(t=K(),L(t),R(!1),k=!0)}for(var E=new Set,N=O,M=ge(),p=0;p<u;p+=1){h&&D.nodeType===ee&&D.data===_e&&(t=D,k=!0,R(!1));var b=d[p],w=s(b,p),_=g?null:c.get(w);_?(_.v&&W(_.v,b),_.i&&W(_.i,p),M&&N.skipped_effects.delete(_.e)):(_=Fe(c,g?t:X??=x(),b,w,p,i,r,a),g||(_.e.f|=S),c.set(w,_)),E.add(w)}if(u===0&&f&&!o&&(g?o=Y(()=>f(t)):(o=Y(()=>f(X??=x())),o.f|=S)),h&&u>0&&L(K()),!g)if(M){for(const[le,oe]of c)E.has(le)||N.skipped_effects.add(oe.e);N.oncommit(A),N.ondiscard(()=>{})}else A();k&&R(!0),J(m)}),n={effect:I,items:c,outrogroups:null,fallback:o};g=!1,h&&(t=D)}function ye(e,r,a,s,i){var f=(s&Ne)!==0,t=r.length,c=e.items,l=e.effect.first,v,o=null,m,d=[],g=[],A,I,n,u;if(f)for(u=0;u<t;u+=1)A=r[u],I=i(A,u),n=c.get(I).e,(n.f&S)===0&&(n.nodes?.a?.measure(),(m??=new Set).add(n));for(u=0;u<t;u+=1){if(A=r[u],I=i(A,u),n=c.get(I).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(n),_.done.delete(n);if((n.f&S)!==0)if(n.f^=S,n===l)H(n,null,a);else{var k=o?o.next:l;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),T(e,o,n),T(e,n,k),H(n,k,a),o=n,d=[],g=[],l=o.next;continue}if((n.f&F)!==0&&(re(n),f&&(n.nodes?.a?.unfix(),(m??=new Set).delete(n))),n!==l){if(v!==void 0&&v.has(n)){if(d.length<g.length){var C=g[0],E;o=C.prev;var N=d[0],M=d[d.length-1];for(E=0;E<d.length;E+=1)H(d[E],C,a);for(E=0;E<g.length;E+=1)v.delete(g[E]);T(e,N.prev,M.next),T(e,o,N),T(e,M,C),l=C,o=M,u-=1,d=[],g=[]}else v.delete(n),H(n,l,a),T(e,n.prev,n.next),T(e,n,o===null?e.effect.first:o.next),T(e,o,n),o=n;continue}for(d=[],g=[];l!==null&&l!==n;)(v??=new Set).add(l),g.push(l),l=l.next;if(l===null)continue}(n.f&S)===0&&d.push(n),o=n,l=n.next}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(B(G(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||v!==void 0){var p=[];if(v!==void 0)for(n of v)(n.f&F)===0&&p.push(n);for(;l!==null;)(l.f&F)===0&&l!==e.fallback&&p.push(l),l=l.next;var b=p.length;if(b>0){var w=(s&fe)!==0&&t===0?a:null;if(f){for(u=0;u<b;u+=1)p[u].nodes?.a?.measure();for(u=0;u<b;u+=1)p[u].nodes?.a?.fix()}xe(e,p,w)}}f&&se(()=>{if(m!==void 0)for(n of m)n.nodes?.a?.apply()})}function Fe(e,r,a,s,i,f,t,c){var l=(t&me)!==0?(t&Ee)===0?he(a,!1,!1):P(a):null,v=(t&Se)!==0?P(i):null;return{v:l,i:v,e:Y(()=>(f(r,l??a,v??i,c),()=>{e.delete(s)}))}}function H(e,r,a){if(e.nodes)for(var s=e.nodes.start,i=e.nodes.end,f=r&&(r.f&S)===0?r.nodes.start:a;s!==null;){var t=q(s);if(f.before(s),s===i)return;s=t}}function T(e,r,a){r===null?e.effect.first=a:r.next=a,a===null?e.effect.last=r:a.prev=r}function Pe(e,r){let a=null,s=h;var i;if(h){a=D;for(var f=ne(document.head);f!==null&&(f.nodeType!==ee||f.data!==e);)f=q(f);if(f===null)R(!1);else{var t=q(f);f.remove(),L(t)}}h||(i=document.head.appendChild(x()));try{j(()=>r(i),be)}finally{s&&(R(!0),L(a))}}function Ue(e,r,a){var s=e==null?"":""+e;return s===""?null:s}function Q(e,r=!1){var a=r?" !important;":";",s="";for(var i in e){var f=e[i];f!=null&&f!==""&&(s+=" "+i+": "+f+a)}return s}function Xe(e,r){if(r){var a="",s,i;return Array.isArray(r)?(s=r[0],i=r[1]):s=r,s&&(a+=Q(s)),i&&(a+=Q(i,!0)),a=a.trim(),a===""?null:a}return String(e)}function Qe(e,r,a,s,i,f){var t=e.__className;if(h||t!==a||t===void 0){var c=Ue(a);(!h||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=a}return f}const ze=Symbol("is custom element"),Ve=Symbol("is html");function Ze(e){if(h){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;Z(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;Z(e,"checked",null),e.checked=i}}};e.__on_r=a,se(a),ke()}}function Z(e,r,a,s){var i=Ye(e);h&&(i[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||i[r]!==(i[r]=a)&&(r==="loading"&&(e[Ce]=a),a==null?e.removeAttribute(r):typeof a!="string"&&qe(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Ye(e){return e.__attributes??={[ze]:e.nodeName.includes("-"),[Ve]:e.namespaceURI===Ie}}var $=new Map;function qe(e){var r=e.getAttribute("is")||e.nodeName,a=$.get(r);if(a)return a;$.set(r,a=[]);for(var s,i=e,f=Element.prototype;f!==i;){s=we(i);for(var t in s)s[t].set&&a.push(t);i=Me(i)}return a}function $e(e,r,a=r){var s=new WeakSet;Oe(e,"input",async i=>{var f=i?e.defaultValue:e.value;if(f=U(e)?z(f):f,a(f),O!==null&&s.add(O),await De(),f!==(f=r())){var t=e.selectionStart,c=e.selectionEnd,l=e.value.length;if(e.value=f??"",c!==null){var v=e.value.length;t===c&&c===l&&v>l?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=t,e.selectionEnd=Math.min(c,v))}}}),(h&&e.defaultValue!==e.value||He(r)==null&&e.value)&&(a(U(e)?z(e.value):e.value),O!==null&&s.add(O)),Le(()=>{var i=r();if(e===document.activeElement){var f=Re??O;if(s.has(f))return}U(e)&&i===z(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function U(e){var r=e.type;return r==="number"||r==="range"}function z(e){return e===""?null:+e}const V={mirrorUrl:null,theme:"blue",accessToken:null},ie="github-release-downloader-settings";function y(){if(typeof window>"u")return V;try{const e=localStorage.getItem(ie);if(e){const r=JSON.parse(e);return{...V,...r}}}catch(e){console.error("加载设置失败:",e)}return V}function Be(e){if(!(typeof window>"u"))try{localStorage.setItem(ie,JSON.stringify(e))}catch(r){console.error("保存设置失败:",r)}}function je(){const e=y();if(!e.mirrorUrl)return null;let r=e.mirrorUrl;return r.endsWith("/")||(r+="/"),r}function er(){return y().accessToken||null}function rr(e){const r=y();r.theme=e,Be(r),te(e)}function Ge(){return y().theme||"blue"}function te(e){typeof document<"u"&&document.documentElement.setAttribute("data-theme",e)}function ar(){const e=Ge();te(e)}export{Be as a,$e as b,rr as c,Z as d,We as e,ar as f,er as g,Pe as h,Ke as i,je as j,y as l,Ze as r,Qe as s,Xe as t};
