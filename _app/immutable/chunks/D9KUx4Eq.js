import{Q as j,h,a as ce,j as J,q as ve,T as de,U as _e,V as K,s as L,W as y,c as R,C as ee,ad as ge,ae as B,F as O,K as D,af as S,M as q,O as he,ag as P,m as pe,ah as Y,ai as me,aj as Ee,ak as Se,al as Te,G as re,J as ae,am as U,g as G,an as Ae,I as Ne,e as ne,ao as fe,ap as se,aq as be,ar as Ie,as as ke,at as Me,au as Ce,av as we,aw as Oe,ax as Re,ay as He,u as Le,az as ye,aA as De}from"./-0_e8-C2.js";function Ke(e,r){return r}function xe(e,r,a){for(var s=[],i=r.length,f,t=r.length,c=0;c<i;c++){let m=r[c];ae(m,()=>{if(f){if(f.pending.delete(m),f.done.add(m),f.pending.size===0){var d=e.outrogroups;W(Y(f.done)),d.delete(f),d.size===0&&(e.outrogroups=null)}}else t-=1},!1)}if(t===0){var l=s.length===0&&a!==null;if(l){var v=a,u=v.parentNode;Ae(u),u.append(v),e.items.clear()}W(r,!l)}else f={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(f)}function W(e,r=!0){for(var a=0;a<e.length;a++)Ne(e[a],r)}var Q;function Be(e,r,a,s,i,f=null){var t=e,c=new Map,l=(r&fe)!==0;if(l){var v=e;t=h?L(ne(v)):v.appendChild(D())}h&&ce();var u=null,m=ve(()=>{var o=a();return me(o)?o:o==null?[]:Y(o)}),d,g=!0;function A(){n.fallback=u,Ue(n,d,t,r,s),u!==null&&(d.length===0?(u.f&S)===0?re(u):(u.f^=S,H(u,null,t)):ae(u,()=>{u=null}))}var I=j(()=>{d=J(m);var o=d.length;let k=!1;if(h){var M=de(t)===_e;M!==(o===0)&&(t=K(),L(t),y(!1),k=!0)}for(var E=new Set,N=O,C=he(),p=0;p<o;p+=1){h&&R.nodeType===ee&&R.data===ge&&(t=R,k=!0,y(!1));var b=d[p],w=s(b,p),_=g?null:c.get(w);_?(_.v&&B(_.v,b),_.i&&B(_.i,p),C&&N.skipped_effects.delete(_.e)):(_=Fe(c,g?t:Q??=D(),b,w,p,i,r,a),g||(_.e.f|=S),c.set(w,_)),E.add(w)}if(o===0&&f&&!u&&(g?u=q(()=>f(t)):(u=q(()=>f(Q??=D())),u.f|=S)),h&&o>0&&L(K()),!g)if(C){for(const[ue,oe]of c)E.has(ue)||N.skipped_effects.add(oe.e);N.oncommit(A),N.ondiscard(()=>{})}else A();k&&y(!0),J(m)}),n={effect:I,items:c,outrogroups:null,fallback:u};g=!1,h&&(t=R)}function Ue(e,r,a,s,i){var f=(s&be)!==0,t=r.length,c=e.items,l=e.effect.first,v,u=null,m,d=[],g=[],A,I,n,o;if(f)for(o=0;o<t;o+=1)A=r[o],I=i(A,o),n=c.get(I).e,(n.f&S)===0&&(n.nodes?.a?.measure(),(m??=new Set).add(n));for(o=0;o<t;o+=1){if(A=r[o],I=i(A,o),n=c.get(I).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(n),_.done.delete(n);if((n.f&S)!==0)if(n.f^=S,n===l)H(n,null,a);else{var k=u?u.next:l;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),T(e,u,n),T(e,n,k),H(n,k,a),u=n,d=[],g=[],l=u.next;continue}if((n.f&U)!==0&&(re(n),f&&(n.nodes?.a?.unfix(),(m??=new Set).delete(n))),n!==l){if(v!==void 0&&v.has(n)){if(d.length<g.length){var M=g[0],E;u=M.prev;var N=d[0],C=d[d.length-1];for(E=0;E<d.length;E+=1)H(d[E],M,a);for(E=0;E<g.length;E+=1)v.delete(g[E]);T(e,N.prev,C.next),T(e,u,N),T(e,C,M),l=M,u=C,o-=1,d=[],g=[]}else v.delete(n),H(n,l,a),T(e,n.prev,n.next),T(e,n,u===null?e.effect.first:u.next),T(e,u,n),u=n;continue}for(d=[],g=[];l!==null&&l!==n;)(v??=new Set).add(l),g.push(l),l=l.next;if(l===null)continue}(n.f&S)===0&&d.push(n),u=n,l=n.next}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(W(Y(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||v!==void 0){var p=[];if(v!==void 0)for(n of v)(n.f&U)===0&&p.push(n);for(;l!==null;)(l.f&U)===0&&l!==e.fallback&&p.push(l),l=l.next;var b=p.length;if(b>0){var w=(s&fe)!==0&&t===0?a:null;if(f){for(o=0;o<b;o+=1)p[o].nodes?.a?.measure();for(o=0;o<b;o+=1)p[o].nodes?.a?.fix()}xe(e,p,w)}}f&&se(()=>{if(m!==void 0)for(n of m)n.nodes?.a?.apply()})}function Fe(e,r,a,s,i,f,t,c){var l=(t&Ee)!==0?(t&Se)===0?pe(a,!1,!1):P(a):null,v=(t&Te)!==0?P(i):null;return{v:l,i:v,e:q(()=>(f(r,l??a,v??i,c),()=>{e.delete(s)}))}}function H(e,r,a){if(e.nodes)for(var s=e.nodes.start,i=e.nodes.end,f=r&&(r.f&S)===0?r.nodes.start:a;s!==null;){var t=G(s);if(f.before(s),s===i)return;s=t}}function T(e,r,a){r===null?e.effect.first=a:r.next=a,a===null?e.effect.last=r:a.prev=r}function Pe(e,r){let a=null,s=h;var i;if(h){a=R;for(var f=ne(document.head);f!==null&&(f.nodeType!==ee||f.data!==e);)f=G(f);if(f===null)y(!1);else{var t=G(f);f.remove(),L(t)}}h||(i=document.head.appendChild(D()));try{j(()=>r(i),Ie)}finally{s&&(y(!0),L(a))}}function ze(e,r,a){var s=e==null?"":""+e;return s===""?null:s}function X(e,r=!1){var a=r?" !important;":";",s="";for(var i in e){var f=e[i];f!=null&&f!==""&&(s+=" "+i+": "+f+a)}return s}function Qe(e,r){if(r){var a="",s,i;return Array.isArray(r)?(s=r[0],i=r[1]):s=r,s&&(a+=X(s)),i&&(a+=X(i,!0)),a=a.trim(),a===""?null:a}return String(e)}function Xe(e,r,a,s,i,f){var t=e.__className;if(h||t!==a||t===void 0){var c=ze(a);(!h||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=a}return f}const Ve=Symbol("is custom element"),qe=Symbol("is html");function Ze(e){if(h){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;Z(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;Z(e,"checked",null),e.checked=i}}};e.__on_r=a,se(a),Me()}}function $e(e,r){var a=ie(e);a.value===(a.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Z(e,r,a,s){var i=ie(e);h&&(i[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||i[r]!==(i[r]=a)&&(r==="loading"&&(e[Ce]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Ge(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function ie(e){return e.__attributes??={[Ve]:e.nodeName.includes("-"),[qe]:e.namespaceURI===ke}}var $=new Map;function Ge(e){var r=e.getAttribute("is")||e.nodeName,a=$.get(r);if(a)return a;$.set(r,a=[]);for(var s,i=e,f=Element.prototype;f!==i;){s=Oe(i);for(var t in s)s[t].set&&a.push(t);i=we(i)}return a}function je(e,r,a=r){var s=new WeakSet;Re(e,"input",async i=>{var f=i?e.defaultValue:e.value;if(f=F(e)?z(f):f,a(f),O!==null&&s.add(O),await He(),f!==(f=r())){var t=e.selectionStart,c=e.selectionEnd,l=e.value.length;if(e.value=f??"",c!==null){var v=e.value.length;t===c&&c===l&&v>l?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=t,e.selectionEnd=Math.min(c,v))}}}),(h&&e.defaultValue!==e.value||Le(r)==null&&e.value)&&(a(F(e)?z(e.value):e.value),O!==null&&s.add(O)),ye(()=>{var i=r();if(e===document.activeElement){var f=De??O;if(s.has(f))return}F(e)&&i===z(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function F(e){var r=e.type;return r==="number"||r==="range"}function z(e){return e===""?null:+e}const V={mirrorUrl:null,theme:"blue",accessToken:null},te="github-release-downloader-settings";function x(){if(typeof window>"u")return V;try{const e=localStorage.getItem(te);if(e){const r=JSON.parse(e);return{...V,...r}}}catch(e){console.error("加载设置失败:",e)}return V}function We(e){if(!(typeof window>"u"))try{localStorage.setItem(te,JSON.stringify(e))}catch(r){console.error("保存设置失败:",r)}}function er(){const e=x();if(!e.mirrorUrl)return null;let r=e.mirrorUrl;return!r.endsWith("/")&&!r.endsWith("=")&&(r+="/"),r}function rr(){return x().accessToken||null}function ar(e){const r=x();r.theme=e,We(r),le(e)}function Ye(){return x().theme||"blue"}function le(e){typeof document<"u"&&document.documentElement.setAttribute("data-theme",e)}function nr(){const e=Ye();le(e)}export{We as a,je as b,ar as c,$e as d,Be as e,Z as f,nr as g,Pe as h,Ke as i,rr as j,er as k,x as l,Ze as r,Xe as s,Qe as t};
