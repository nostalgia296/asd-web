import{A as ee,w as E,B as Y,g as X,W as re,C as ae,H as fe,D as $,F as k,G as z,x as H,K as W,X as ne,Y as G,i as ie,q as F,Z as A,v as q,z as se,_ as J,m as le,a0 as V,a1 as ue,a2 as oe,a3 as te,a4 as ve,j as Z,l as x,a5 as L,L as y,a6 as de,k as ce,J as M,a7 as P,M as pe,a8 as he,a9 as _e,aa as ge,ab as me,ac as Ee,ad as Ae}from"./BtBvFaTj.js";import{b as K,c as Te}from"./Bua8-BA-.js";function Se(e,i){return i}function we(e,i,n){for(var o=[],_=i.length,u,s=i.length,t=0;t<_;t++){let d=i[t];x(d,()=>{if(u){if(u.pending.delete(d),u.done.add(d),u.pending.size===0){var c=e.outrogroups;B(V(u.done)),c.delete(u),c.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var a=o.length===0&&n!==null;if(a){var v=n,f=v.parentNode;de(f),f.append(v),e.items.clear()}B(i,!a)}else u={pending:new Set(i),done:new Set},(e.outrogroups??=new Set).add(u)}function B(e,i=!0){for(var n=0;n<e.length;n++)ce(e[n],i)}var U;function De(e,i,n,o,_,u=null){var s=e,t=new Map,a=(i&P)!==0;if(a){var v=e;s=E?k(M(v)):v.appendChild(F())}E&&Y();var f=null,d=re(()=>{var l=n();return ue(l)?l:l==null?[]:V(l)}),c,h=!0;function w(){r.fallback=f,Ne(r,c,s,i,o),f!==null&&(c.length===0?(f.f&A)===0?Z(f):(f.f^=A,O(f,null,s)):x(f,()=>{f=null}))}var I=ee(()=>{c=X(d);var l=c.length;let b=!1;if(E){var R=ae(s)===fe;R!==(l===0)&&(s=$(),k(s),z(!1),b=!0)}for(var m=new Set,N=ie,S=se(),g=0;g<l;g+=1){E&&H.nodeType===W&&H.data===ne&&(s=H,b=!0,z(!1));var C=c[g],D=o(C,g),p=h?null:t.get(D);p?(p.v&&G(p.v,C),p.i&&G(p.i,g),S&&N.skipped_effects.delete(p.e)):(p=Ce(t,h?s:U??=F(),C,D,g,_,i,n),h||(p.e.f|=A),t.set(D,p)),m.add(D)}if(l===0&&u&&!f&&(h?f=q(()=>u(s)):(f=q(()=>u(U??=F())),f.f|=A)),E&&l>0&&k($()),!h)if(S){for(const[Q,j]of t)m.has(Q)||N.skipped_effects.add(j.e);N.oncommit(w),N.ondiscard(()=>{})}else w();b&&z(!0),X(d)}),r={effect:I,items:t,outrogroups:null,fallback:f};h=!1,E&&(s=H)}function Ne(e,i,n,o,_){var u=(o&he)!==0,s=i.length,t=e.items,a=e.effect.first,v,f=null,d,c=[],h=[],w,I,r,l;if(u)for(l=0;l<s;l+=1)w=i[l],I=_(w,l),r=t.get(I).e,(r.f&A)===0&&(r.nodes?.a?.measure(),(d??=new Set).add(r));for(l=0;l<s;l+=1){if(w=i[l],I=_(w,l),r=t.get(I).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&A)!==0)if(r.f^=A,r===a)O(r,null,n);else{var b=f?f.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),T(e,f,r),T(e,r,b),O(r,b,n),f=r,c=[],h=[],a=f.next;continue}if((r.f&L)!==0&&(Z(r),u&&(r.nodes?.a?.unfix(),(d??=new Set).delete(r))),r!==a){if(v!==void 0&&v.has(r)){if(c.length<h.length){var R=h[0],m;f=R.prev;var N=c[0],S=c[c.length-1];for(m=0;m<c.length;m+=1)O(c[m],R,n);for(m=0;m<h.length;m+=1)v.delete(h[m]);T(e,N.prev,S.next),T(e,f,N),T(e,S,R),a=R,f=S,l-=1,c=[],h=[]}else v.delete(r),O(r,a,n),T(e,r.prev,r.next),T(e,r,f===null?e.effect.first:f.next),T(e,f,r),f=r;continue}for(c=[],h=[];a!==null&&a!==r;)(v??=new Set).add(a),h.push(a),a=a.next;if(a===null)continue}(r.f&A)===0&&c.push(r),f=r,a=r.next}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(B(V(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||v!==void 0){var g=[];if(v!==void 0)for(r of v)(r.f&L)===0&&g.push(r);for(;a!==null;)(a.f&L)===0&&a!==e.fallback&&g.push(a),a=a.next;var C=g.length;if(C>0){var D=(o&P)!==0&&s===0?n:null;if(u){for(l=0;l<C;l+=1)g[l].nodes?.a?.measure();for(l=0;l<C;l+=1)g[l].nodes?.a?.fix()}we(e,g,D)}}u&&pe(()=>{if(d!==void 0)for(r of d)r.nodes?.a?.apply()})}function Ce(e,i,n,o,_,u,s,t){var a=(s&oe)!==0?(s&te)===0?le(n,!1,!1):J(n):null,v=(s&ve)!==0?J(_):null;return{v:a,i:v,e:q(()=>(u(i,a??n,v??_,t),()=>{e.delete(o)}))}}function O(e,i,n){if(e.nodes)for(var o=e.nodes.start,_=e.nodes.end,u=i&&(i.f&A)===0?i.nodes.start:n;o!==null;){var s=y(o);if(u.before(o),o===_)return;o=s}}function T(e,i,n){i===null?e.effect.first=n:i.next=n,n===null?e.effect.last=i:n.prev=i}function He(e,i,n=!1,o=!1,_=!1){var u=e,s="";_e(()=>{var t=ge;if(s===(s=i()??"")){E&&Y();return}if(t.nodes!==null&&(me(t.nodes.start,t.nodes.end),t.nodes=null),s!==""){if(E){H.data;for(var a=Y(),v=a;a!==null&&(a.nodeType!==W||a.data!=="");)v=a,a=y(a);if(a===null)throw Ee(),Ae;K(H,v),u=k(a);return}var f=s+"";n?f=`<svg>${f}</svg>`:o&&(f=`<math>${f}</math>`);var d=Te(f);if((n||o)&&(d=M(d)),K(M(d),d.lastChild),n||o)for(;M(d);)u.before(M(d));else u.before(d)}})}function Ie(e,i,n){var o=e==null?"":""+e;return o===""?null:o}function Me(e,i,n,o,_,u){var s=e.__className;if(E||s!==n||s===void 0){var t=Ie(n);(!E||t!==e.getAttribute("class"))&&(t==null?e.removeAttribute("class"):e.className=t),e.__className=n}return u}export{De as e,He as h,Se as i,Me as s};
